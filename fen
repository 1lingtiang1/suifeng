js:
var d = [];
let myurl = getMyVar("Myurl")
let page = MY_PAGE

let dalv = myurl + 'index.php/vod/show/id/28/page/' + page + '.html'

let ynf = myurl + 'vodshow/dianying--------' + page + '---.html'

let lgyy = myurl + 'vodshow/1--------' + page + '---.html'

let auet = myurl + 'Movie/index' + page + '.html'

let ysgc = myurl + 'vodshow/1--------' + page + '---.html'

let meiju = myurl + 'index.php/vod/show/id/1/page/' + page + '.html'

let czzy = myurl + 'movie_bt_series/dyy/page/' + page

let sbb = myurl + 'new-movie/page/' + page

let zjm = myurl + 'index.php/vod/show/id/1/page/' + page + '/'

let yxw = myurl + 'vodshow/1/page/' + page + '.html'

let dbk = myurl + 'vodshow/16--------' + page + '---.html'

if (/dqsj/.test(myurl)) {
MY_URL = dalv
      } else 
if (/yanetflix/.test(myurl)) {
MY_URL = ynf
      } else 
if (/auete/.test(myurl)) {
MY_URL = auet
      } else 
if (/ysgc/.test(myurl)) {
MY_URL = ysgc
      } else 
if (/69mj/.test(myurl)) {
MY_URL = meiju
      } else 
if (/czspp/.test(myurl)) {
MY_URL = czzy
      } else 
if (/lgyy/.test(myurl)) {
MY_URL = lgyy
      } else 
if (/zjmiao/.test(myurl)) {
MY_URL = zjm
      } else 
if (/subaibaiys/.test(myurl)) {
MY_URL = sbb
      } else 
if (/yixuewan/.test(myurl)) {
MY_URL = yxw
      } else 
if (/cboku/.test(myurl)) {
MY_URL = dbk
      } 


let 电影_url = MY_URL.replace(/1---\.html/, '---.html').replace(/1\.html/, '.html').replace(/1---\// , '---/').replace(/\/page\/1/ ,'').replace(/\/page\// ,'')

//log(MY_URL)
//log(电影_url)

let 剧集_url = 电影_url.replace(/id\/1/,'id/2').replace('dianying','lianxuju').replace(/vodshow\/16/,'vodshow/2').replace(/lists\/1/,'lists/2').replace(/Movie/,'Tv').replace(/id\/28/,'id/27').replace(/dyy/,'dianshiju').replace(/new-movie/,'tv-drama').replace(/vodshow\/1/,'vodshow/2')

let 动漫_url = 电影_url.replace(/id\/1/,'id/4').replace('dianying','dongman').replace(/vodshow\/16/,'vodshow/4').replace(/lists\/1/,'lists/4').replace(/Movie/,'Dm').replace(/id\/28/,'id/20').replace(/dyy/,'dohua').replace(/new-movie/,'movie_bt_tags/animation').replace(/vodshow\/1/,'vodshow/4')

let 综艺_url = 电影_url.replace(/id\/1/,'id/3').replace('dianying','zongyi').replace(/vodshow\/16/,'vodshow/3').replace(/lists\/1/,'lists/3').replace(/Movie/,'Zy').replace(/id\/28/,'id/31').replace(/dyy/,'mj').replace(/new-movie/,'high-movie').replace(/vodshow\/1/,'vodshow/3')

let tr_url = getMyVar("Myurl.url", MY_URL)
//log(page)
if (/php\/live/.test(MY_URL)) {
if (getMyVar("Myurl.url")){
var true_url = tr_url.replace(/\?type\=(\d+)/,'/index/type/$1/page/' + page)
//log(true_url) 
      }
      } else 
if (/\/show\/|\/vodshow\/id\//.test(MY_URL)) {
if (getMyVar("Myurl.url")){
var true_url = tr_url.replace(/\.html/,'/page/' + page + '.html').replace(/\/year\/(\d+)\.html/,'/page/' + page + '/year/$1.html').replace(/id\/(\d+)\//,'id/$1/page/' + page + '/').replace(/id\/(\d+)\/year\/(\d+)\//,'id/$1/year/$2/page/' + page + '/')
      }
      } else  if (/vodshow\/|lists\//.test(MY_URL)) {
if (getMyVar("Myurl.url")){
var true_url = tr_url.replace(/---\.html/,page + '---.html').replace(/---(\d+)\.html/,page + '___$1.html').replace(/---\//,page + '---/').replace(/---(\d+)\//,page + '___$1/').replace(/\.html/,'/page/' + page + '.html').replace(/\/year\/(\d+)\.html/,'/page/' + page + '/year/$1.html')
      }
      } else 
if (/czspp|subaibaiys/.test(MY_URL)) {
if (getMyVar("Myurl.url")){
var true_url = tr_url + '/page/' + page
       }
       } else 
if (/index/.test(MY_URL)) {
if (getMyVar("Myurl.url")){
if (page == 1) {
        true_url = tr_url.replace(/\/(\d*)\.html/, '$1index.html');
    } else {
        true_url = tr_url.replace('.html', page + '.html');
//log(true_url) 
    }
    }
    } 

//分类定位
var html = request(true_url) 
if (/auete/.test(MY_URL)) {
var 大类 = '.nav_tag_list&&td'
var 拼接小类 = ''
var 分类子 = 'body&&a:not(:matches(重置))'
      } else 
if (/dqsj/.test(MY_URL)) {
var 大类 = 'body&&.hl-filter-list'
var 拼接小类 = 'body&&.hl-site-tits'
var 分类子 = 'body&&a:not(:matches(重置))'
      } else 
if (/zjmiao/.test(MY_URL)) {
var 大类 = 'body&&.nav-swiper:gt(1)'
var 拼接小类 = 'body&&.site-tabs'
var 分类子 = 'body&&a:not(:matches(重置))'
         } else 
if (/69mj|yixuewan/.test(MY_URL)) {
var 大类 = 'body&&.scroll-box:gt(1)'
var 拼接小类 = ''
var 分类子 = 'body&&a:not(:matches(重置))'
         } else  
if (/yanetflix|lgyy/.test(MY_URL)) {
var 大类 = 'body&&.scroll-box'
var 拼接小类 = ''
var 分类子 = 'body&&a:not(:matches(重置))'
         } else  
if (/ysgc|cboku/.test(MY_URL)) {
var 大类 = 'body&&.myui-screen__list'
var 拼接小类 = ''
var 分类子 = 'body&&a:not(.text-muted):not(:matches(重置))'
         } else  
if (/czspp|subaibaiys/.test(MY_URL)) {
var 大类 = '#beautiful-taxonomy-filters-tax-movie_bt_series'
var 拼接小类 = ''
var 分类子 = 'body&&a:lt(1):not(:matches(重置))'
         } 

//列表
if (/bt_img|myui-vodlist|list-a|hl-vod-list|threadlist/.test(html)) { 
    var 列表 = '.bt_img||.myui-vodlist||.list-a||.hl-vod-list||.threadlist&&li'
    } else 
if (/module-items/.test(html)) { 
    var 列表 = '.module-items&&.module-item'
    }

//更新
if (/hdtag|hl-pic-text|list-remarks|module-item-text|module-item-note|pic-text|jidi|hdinfo/.test(html)) { 
    var 更新 = '.hdtag||.hl-pic-text||.list-remarks||.module-item-text||.module-item-note||.pic-text||.jidi||.hdinfo&&Text'
     }

//图片
if (/auete/.test(MY_URL)) {
    var 图片 = 'img&&src'
    } else 
if (/hl-lazy/.test(html)) { 
    var 图片 = '.hl-lazy&&data-original'
    } else {
    var 图片 = '.lazy||.lazyload&&data-original||data-src'
    }

//片名
if (/auete/.test(MY_URL)) {
    var 片名 = 'h2&&Text'
    var 链接 = 'h2&&a&&href'
    } else 
if (/czspp|subaibaiys/.test(MY_URL)) {
    var 片名 = 'h3&&Text'
    var 链接 = 'a&&href'
    } else {
    var 片名 = 'a&&title'
    var 链接 = 'a&&href'
    }

let 大类名 = 'a&&Text'
let 大类链 = 'a&&href' 
let 小类名 = 'a&&Text'
let 小类链 = 'a&&href'

try {
    var categories = pdfa(html, 大类).concat(pdfa(html, 拼接小类))
    } catch (e) {
    var categories = pdfa(html, 大类)
    }

const Color = "#19B89D";
const empty = "hiker://empty"

if (parseInt(MY_PAGE) === 1) {
  var 分类 = {
        '电影': 'https://lanmeiguojiang.com/tubiao/more/175.png@Referer=',
        '剧集': 'https://lanmeiguojiang.com/tubiao/more/145.png@Referer=',
        '动漫': 'https://lanmeiguojiang.com/tubiao/more/341.png@Referer=',
        '综艺': 'https://lanmeiguojiang.com/tubiao/more/137.png@Referer='
    };
var 链接 = [电影_url, 剧集_url, 动漫_url, 综艺_url]
    for (var i = 0; i < 4; i++) {
        var fen = Object.keys(分类)[i]
        d.push({
            title: fen,
            img: Object.values(分类)[i],
            col_type: 'icon_round_small_4',
            url: $(链接[i] + '#noLoading#').lazyRule((fen) => {
    let new_cate = ["0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0", "0"];
    refreshPage();
    putMyVar("Myfl",fen)
    putMyVar("Myurl.title", JSON.stringify(new_cate));
    putMyVar("Myurl.url", input);
      return "hiker://empty"
      }, fen)
        })
    }

  d.push({
      col_type: "big_blank_block"
      })
  d.push({
      col_type: "line"
      })
  d.push({
      col_type: "big_blank_block"
      }) 
      }

let init_cate = []
for (let i = 0; i < 20; i++) {
    init_cate.push("0")
    }
const fold = getMyVar("Myurl.group", "0")
const cate_temp_json =
getMyVar("Myurl.title", JSON.stringify(init_cate))
const cate_temp = JSON.parse(cate_temp_json)

if (parseInt(page) === 1) {

let titlet = getMyVar("Myfl")
d.push({
      title: fold === '1' ? '<b><span style="color: #FA7298">' + titlet + '</span></b>' : '<b><span style="color: #19B89D">' + titlet + '</span></b>',
      url: $('#noLoading#').lazyRule((fold) => {
          putMyVar("Myurl.group", fold === '1' ? '0' : '1');
          refreshPage(false);
          return "hiker://empty"
          }, fold),
      img: "https://lanmeiguojiang.com/tubiao/movie/105.svg@Referer=",
      col_type: "avatar"
      })

d.push({
      col_type: "big_blank_block"
      })

  categories.forEach((category, index) => {
      let sub_categories = pdfa(category, 分类子);
      if (index === 0) {
          sub_categories.forEach((item, key) => {
      let title = pdfh(item, 大类名)
      d.push({
          title: key.toString() === cate_temp[index] ? '““””<b><span style="color: ' + Color + '">' + title + '</span></b>' : title,
          url: $(pd(item, 大类链) + '#noLoading#').lazyRule((params) => {
          let new_cate = []
          params.cate_temp.forEach((cate, index) => {
          new_cate.push(index === 0 ? params.key.toString() : "0")
          })         
          putMyVar("Myurl.title", JSON.stringify(new_cate))
          putMyVar("Myurl.url", input)
          refreshPage(false)
          return "hiker://empty"
          }, {
          cate_temp: cate_temp,
          key: key,
          page: page,
          }),
          col_type: 'scroll_button',
          })
          })
    d.push({
          col_type: "blank_block"
          });
          } else 
       if (fold === '1') {
            sub_categories.forEach((item, key) => {
       let title = pdfh(item, 小类名)
    d.push({
        title: key.toString() === cate_temp[index] ? '““””<b><span style="color: ' + Color + '">' + title + '</span></b>' : title,
        url: $(pd(item, 小类链) + '#noLoading#').lazyRule((params) => {
            params.cate_temp[params.index] = params.key.toString()           
        putMyVar("Myurl.title", JSON.stringify(params.cate_temp))        
        putMyVar("Myurl.url", input)
        refreshPage(false)
        return "hiker://empty"
        }, {
        cate_temp: cate_temp,
        index: index,
        key: key,
        page: page,
        }),
        col_type: 'scroll_button',
        })
        })
  d.push({
      col_type: "blank_block"
      });
     }
    })
   }

require('hiker://page/lazy')
    let list = pdfa(html, 列表);
    for (let j in list) {
        let durl = pd(list[j], 链接);
    if (durl.match(/live/)) {
        var pm = pdfh(list[j], '.cor4&&Text').replace(/up主：/, '')
        var gx = pdfh(list[j], '.list-tag&&Text')
        var url = durl + lazy3
        var col = 'movie_2'
        } else {
        var pm = pdfh(list[j], 片名)
        var gx = pdfh(list[j], 更新)
        var url = durl.replace('vodplay','voddetail') + '#immersiveTheme#'
        var col = 'movie_3_marquee'
        }
  try {
    d.push({
        title: pm,
        desc: gx,
        img: pd(list[j], 图片)+ '@Referer=',
        url: (/live/.test(url)) ? url : 'hiker://page/er#noHistory#',
        extra: {
                 title: pm,
                 desc: gx,
                 img: pd(list[j], 图片)+"@Referer=",
                 url: url
        },
        col_type: col
        });
        } catch (e) { }
     }
setResult(d);
//动态分类来自模板Q
//by随风  只添加几个按钮😜😜😜
